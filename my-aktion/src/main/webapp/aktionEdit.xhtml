<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
<ui:composition template="WEB-INF/templates/default.xhtml">
    <ui:define name="content">
        <h1><h:outputText value="#{aktionEditController.title}"/></h1>

        <h:form acceptcharset="ISO-8859-1">
            <h:panelGrid columns="3">
                <f:facet name="header">Allgemein</f:facet>
                <h:outputLabel value="Name:"/>
                <h:inputText id="a_name"
                             value="#{aktionEditController.aktion.name}"
                             validatorMessage="Der Name einer Aktion muß min. 4 und darf max. 30 Zeichen lang sein.">
                    <f:validateRequired/>
                    <f:validateLength minimum="4" maximum="30"/>
                </h:inputText>
                <h:message for="a_name" style="color: red;"/>

                <h:outputLabel value="Spendenziel:"/>
                <h:panelGroup>
                    <h:inputText id="a_spendenziel"
                                 value="#{aktionEditController.aktion.spendenZiel}"
                                 validatorMessage="Das Spendenziel für die Aktion muß min. 10€ sein.">
                        <f:convertNumber maxFractionDigits="2" minFractionDigits="2"/>
                        <f:validateRequired/>
                        <f:validateDoubleRange minimum="10.0"/>
                    </h:inputText> EUR
                </h:panelGroup>
                <h:message for="a_spendenziel" style="color: red;"/>

                <h:outputLabel value="Spendenbetrag:"/>
                <h:panelGroup>
                    <h:inputText id="a_spendenbetrag"
                                 value="#{aktionEditController.aktion.spendenBetrag}"
                                 validatorMessage="Der Spendenbetrag muß min. 1€ sein.">
                        <f:convertNumber maxFractionDigits="2" minFractionDigits="2"/>
                        <f:validateRequired/>
                        <f:validateDoubleRange minimum="1.0"/>
                    </h:inputText> EUR
                </h:panelGroup>
                <h:message for="a_spendenbetrag" style="color: red;"/>
            </h:panelGrid>

            <h:panelGrid columns="3">
                <f:facet name="header">Bankverbindung</f:facet>

                <h:outputLabel value="Name:"/>
                <h:inputText id="b_name"
                             value="#{aktionEditController.aktion.konto.name}">
                    <f:validateRequired/>
                </h:inputText>
                <h:message for="b_name" style="color: red;"/>

                <h:outputLabel value="Konto-Nr.:"/>
                <h:inputText id="b_konto"
                             value="#{aktionEditController.aktion.konto.kontoNr}">
                    <f:validateRequired/>
                </h:inputText>
                <h:message for="b_konto" style="color: red;"/>

                <h:outputLabel value="BLZ:"/>
                <h:inputText id="b_blz"
                             value="#{aktionEditController.aktion.konto.blz}">
                    <f:validateRequired/>
                </h:inputText>
                <h:message for="b_blz" style="color: red;"/>

                <h:outputLabel value="Name der Bank:"/>
                <h:inputText id="b_name_bank"
                             value="#{aktionEditController.aktion.konto.nameDerBank}">
                    <f:validateRequired/>
                </h:inputText>
                <h:message for="b_name_bank" style="color: red;"/>
            </h:panelGrid>

            <h:commandButton value="Speichern"
                             action="#{aktionEditController.doSave}"/>
            <h:commandButton value="Abbrechen"
                             action="#{aktionEditController.doCancel}"/>
        </h:form>
    </ui:define>
</ui:composition>
</html>
