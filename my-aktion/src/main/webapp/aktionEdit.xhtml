<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html >
<html xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<ui:composition template="WEB-INF/templates/default.xhtml">
    <ui:define name="content">
        <h1><h:outputText value="#{aktionEditController.title}"/></h1>

        <h:form acceptcharset="UTF-8">
            <p:tabView id="tabView">
                <p:tab title="Allgemein">
                    <h:panelGrid columns="3">
                        <h:outputLabel value="Name:"/>
                        <p:inputText id="a_name"
                                     value="#{aktionEditController.aktion.name}"
                                     validatorMessage="Der Name einer Aktion muß min. 4 und darf max. 30 Zeichen lang sein.">
                            <f:validateRequired/>
                            <f:validateLength minimum="4" maximum="30"/>
                        </p:inputText>
                        <p:message for="a_name"/>

                        <h:outputLabel value="Spendenziel:"/>
                        <h:panelGroup>
                            <p:inputText id="a_spendenziel"
                                         value="#{aktionEditController.aktion.spendenZiel}"
                                         validatorMessage="Das Spendenziel für die Aktion muß min. 10€ sein.">
                                <f:convertNumber maxFractionDigits="2" minFractionDigits="2"/>
                                <f:validateRequired/>
                                <f:validateDoubleRange minimum="10.0"/>
                            </p:inputText> EUR
                        </h:panelGroup>
                        <p:message for="a_spendenziel"/>

                        <h:outputLabel value="Spendenbetrag:"/>
                        <h:panelGroup>
                            <p:inputText id="a_spendenbetrag"
                                         value="#{aktionEditController.aktion.spendenBetrag}"
                                         validatorMessage="Der Spendenbetrag muß min. 1€ sein.">
                                <f:convertNumber maxFractionDigits="2" minFractionDigits="2"/>
                                <f:validateRequired/>
                                <f:validateDoubleRange minimum="1.0"/>
                            </p:inputText> EUR
                        </h:panelGroup>
                        <p:message for="a_spendenbetrag"/>
                    </h:panelGrid>
                </p:tab>
                <p:tab title="Bankverbindung">
                    <h:panelGrid columns="3">
                        <h:outputLabel value="Name:"/>
                        <p:inputText id="b_name"
                                     value="#{aktionEditController.aktion.konto.name}">
                            <f:validateRequired/>
                        </p:inputText>
                        <p:message for="b_name"/>

                        <h:outputLabel value="Konto-Nr.:"/>
                        <p:inputText id="b_konto"
                                     value="#{aktionEditController.aktion.konto.kontoNr}">
                            <f:validateRequired/>
                        </p:inputText>
                        <p:message for="b_konto"/>

                        <h:outputLabel value="BLZ:"/>
                        <p:inputText id="b_blz"
                                     value="#{aktionEditController.aktion.konto.blz}">
                            <f:validateRequired/>
                        </p:inputText>
                        <p:message for="b_blz"/>

                        <h:outputLabel value="Name der Bank:"/>
                        <p:inputText id="b_name_bank"
                                     value="#{aktionEditController.aktion.konto.nameDerBank}">
                            <f:validateRequired/>
                        </p:inputText>
                        <p:message for="b_name_bank"/>
                    </h:panelGrid>
                </p:tab>
            </p:tabView>
            <p:commandButton value="Speichern"
                             ajax="false"
                             action="#{aktionEditController.doSave}"/>
            <p:commandButton value="Abbrechen"
                             ajax="false"
                             immediate="true"
                             action="#{aktionEditController.doCancel}"/>
        </h:form>
    </ui:define>
</ui:composition>
</html>
